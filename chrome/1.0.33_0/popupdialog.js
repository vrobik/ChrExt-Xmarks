var xm_callback=null,closeHandled=!1;function HandleAction(a){closeHandled=!0;xm_callback(top,a)}function HandleUnload(){closeHandled||HandleAction(chrome.i18n.getMessage("dialog_cancel"))}
function HandleLoad(){LoadLocalizedStrings();var a=chrome.extension.getBackgroundPage().Xmarks.Settings.GetWindowParams(),d="Invalid internal config; something has gone awry!",e=chrome.i18n.getMessage("dialog_ok"),b=null,c=null;a&&(a.message&&(d=a.message),a.buttons&&(a.buttons.button1&&(e=a.buttons.button1),a.buttons.button2&&(b=a.buttons.button2),a.buttons.button3&&(c=a.buttons.button3)),xm_callback=a.callback);document.getElementById("message").innerHTML=d;document.getElementById("button1").value=
e;b&&(a=document.getElementById("button2"),a.value=b,a.style.display="inline");c&&(b=document.getElementById("button3"),b.value=c,b.style.display="inline")}function LoadLocalizedStrings(){document.title=chrome.i18n.getMessage("dialog_title");document.getElementById("dialog-title").innerHTML=chrome.i18n.getMessage("dialog_title");document.getElementById("button1").value=chrome.i18n.getMessage("dialog_ok");document.getElementById("button2").value=chrome.i18n.getMessage("dialog_cancel")}
document.addEventListener("DOMContentLoaded",function(){window.addEventListener("load",function(){HandleLoad()});window.addEventListener("unload",function(){HandleUnload()});document.getElementById("button1").addEventListener("click",function(){HandleAction(this.value)});document.getElementById("button2").addEventListener("click",function(){HandleAction(this.value)});document.getElementById("button3").addEventListener("click",function(){HandleAction(this.value)})});
